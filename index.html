<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Comparador de Canasta BÃ¡sica - UY vs BR</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      th,
      td {
        text-align: center;
        vertical-align: middle;
      }
      .resaltado-uy {
        background-color: #d1e7dd !important;
      }
      .resaltado-br {
        background-color: #cff4fc !important;
      }
    </style>
  </head>
  <body class="bg-light">
    <div class="container py-4">
      <h2 class="text-center mb-4">
        ðŸ“Š Comparador de Canasta BÃ¡sica Uruguay ðŸ‡ºðŸ‡¾ vs Brasil ðŸ‡§ðŸ‡·
      </h2>

      <div class="mb-3 text-end">
        <label><strong>ðŸ’± 1 BRL = </strong></label>
        <input
          type="number"
          id="valorReal"
          value="8.00"
          step="0.01"
          class="form-control d-inline w-auto"
        />
        <span class="ms-1">UYU</span>
      </div>

      <div class="table-responsive mb-4">
        <table
          class="table table-bordered align-middle table-hover"
          id="tablaComparativa"
        >
          <thead class="table-dark">
            <tr>
              <th style="width: 30%">Producto</th>
              <th>UYU ðŸ‡ºðŸ‡¾</th>
              <th>BRL ðŸ‡§ðŸ‡·</th>
              <th>BRL en UYU</th>
              <th>MÃ¡s conveniente</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Pan comÃºn</td>
              <td><input type="number" class="form-control" value="80" /></td>
              <td><input type="number" class="form-control" value="6.50" /></td>
              <td class="br-conv"></td>
              <td class="mejor-opcion fw-bold"></td>
            </tr>
            <tr>
              <td>Leche entera</td>
              <td><input type="number" class="form-control" value="45" /></td>
              <td><input type="number" class="form-control" value="4.20" /></td>
              <td class="br-conv"></td>
              <td class="mejor-opcion fw-bold"></td>
            </tr>
            <tr>
              <td>Arroz</td>
              <td><input type="number" class="form-control" value="70" /></td>
              <td><input type="number" class="form-control" value="6.80" /></td>
              <td class="br-conv"></td>
              <td class="mejor-opcion fw-bold"></td>
            </tr>
            <tr>
              <td>Fideos</td>
              <td><input type="number" class="form-control" value="40" /></td>
              <td><input type="number" class="form-control" value="3.90" /></td>
              <td class="br-conv"></td>
              <td class="mejor-opcion fw-bold"></td>
            </tr>
            <tr>
              <td>Aceite</td>
              <td><input type="number" class="form-control" value="150" /></td>
              <td>
                <input type="number" class="form-control" value="12.00" />
              </td>
              <td class="br-conv"></td>
              <td class="mejor-opcion fw-bold"></td>
            </tr>
            <tr>
              <td>Detergente</td>
              <td><input type="number" class="form-control" value="60" /></td>
              <td><input type="number" class="form-control" value="5.50" /></td>
              <td class="br-conv"></td>
              <td class="mejor-opcion fw-bold"></td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="text-center">
        <button class="btn btn-primary" onclick="comparar()">
          ðŸ“ˆ Comparar precios
        </button>
      </div>
    </div>

    <script>
      function comparar() {
        const filas = document.querySelectorAll("#tablaComparativa tbody tr");
        const valorReal = parseFloat(
          document.getElementById("valorReal").value
        );

        filas.forEach((fila) => {
          const precioUYU =
            parseFloat(fila.children[1].querySelector("input").value) || 0;
          const precioBRL =
            parseFloat(fila.children[2].querySelector("input").value) || 0;
          const precioBRLuy = precioBRL * valorReal;

          const celdaBRconv = fila.querySelector(".br-conv");
          const celdaMejor = fila.querySelector(".mejor-opcion");

          celdaBRconv.innerText = `UYU ${precioBRLuy.toFixed(2)}`;
          fila.classList.remove("resaltado-uy", "resaltado-br");

          if (precioUYU < precioBRLuy) {
            celdaMejor.innerText = "ðŸ‡ºðŸ‡¾ Uruguay";
            fila.classList.add("resaltado-uy");
          } else if (precioBRLuy < precioUYU) {
            celdaMejor.innerText = "ðŸ‡§ðŸ‡· Brasil";
            fila.classList.add("resaltado-br");
          } else {
            celdaMejor.innerText = "Iguales";
          }
        });
      }
    </script>
  </body>
</html>
